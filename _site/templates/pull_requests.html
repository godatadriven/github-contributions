<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>Xebia Github Contributions</title>
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css"
    />
    <link
      rel="stylesheet"
      href="./assets/styles.css"
    />
  </head>
  <body>
    <h1>Xebia Github Contributions</h1>
    <div class="content">
      <h3>Pull Requests</h3>
      <table id="table" class="display" style="width: 100%">
        <thead>
          <tr>
            <th>Author</th>
            <th>Owner</th>
            <th>Repository</th>
            <th>Title</th>
            <th>State</th>
            <th>Created</th>
            <th>Updated</th>
            <th>Closed</th>
            <th>Merged</th>
            <th>Total reaction count</th>
          </tr>
        </thead>
        <tbody>
          {%- for pr in pull_requests -%}
          <tr>
            <td>{{ pr.author }}</td>
            <td>{{ pr.owner }}</td>
            <td>{{ pr.repository }}</td>
            <td><a href="{{ pr.url }}" target="_blank">{{ pr.title }}</a></td>
            <td>{{ pr.state }}</td>
            <td>{{ pr.created_at }}</td>
            <td>{{ pr.updated_at }}</td>
            <td>{{ pr.closed_at }}</td>
            <td>{{ pr.merged_at }}</td>
            <td>{{ pr.reactions_total_count }}</td>
          </tr>
          {%- endfor -%}
        </tbody>
      </table>

      <button type="button" class="collapsible">Unique Contributors</button>
      <div class="collapsible-content">
        <h3>Unique Contributors</h3>
        <ul>
          {%- for author in authors -%}
          <li>{{ author }}</li>
          {%- endfor -%}
        </ul>
      </div>
    </div>
  </body>
  <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="./assets/datatable.js"></script>
</html>
